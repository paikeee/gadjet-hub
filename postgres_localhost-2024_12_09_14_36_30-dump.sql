--
-- PostgreSQL database dump
--

-- Dumped from database version 16.6
-- Dumped by pg_dump version 16.6

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: gadget_hub; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE gadget_hub WITH TEMPLATE = template0 ENCODING = 'UTF8' LOCALE_PROVIDER = libc LOCALE = 'Russian_Russia.1251';


ALTER DATABASE gadget_hub OWNER TO postgres;

\connect gadget_hub

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: main; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA main;


ALTER SCHEMA main OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: characteristics; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.characteristics (
    name character varying,
    value character varying,
    product_id integer,
    id integer NOT NULL
);


ALTER TABLE public.characteristics OWNER TO postgres;

--
-- Name: characteristics_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.characteristics ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.characteristics_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: order; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."order" (
    id integer NOT NULL,
    user_id integer,
    price bigint,
    date date,
    count integer
);


ALTER TABLE public."order" OWNER TO postgres;

--
-- Name: order_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."order" ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.order_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: product; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.product (
    id integer NOT NULL,
    name character varying NOT NULL,
    "desc" character varying,
    price integer NOT NULL,
    category character varying,
    img character varying,
    rating integer,
    color character varying
);


ALTER TABLE public.product OWNER TO postgres;

--
-- Name: product_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.product ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tag; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tag (
    name character varying,
    product_id integer,
    id integer NOT NULL
);


ALTER TABLE public.tag OWNER TO postgres;

--
-- Name: tag_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tag ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tag_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    id integer NOT NULL,
    login character varying NOT NULL,
    password character varying NOT NULL
);


ALTER TABLE public.users OWNER TO postgres;

--
-- Name: user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.users ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: characteristics; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.characteristics (name, value, product_id, id) VALUES ('Гарантия', '1 год', 1, 1);
INSERT INTO public.characteristics (name, value, product_id, id) VALUES ('Экран', '10 дюймов', 1, 2);
INSERT INTO public.characteristics (name, value, product_id, id) VALUES ('Гарантия', '2 года', 2, 3);
INSERT INTO public.characteristics (name, value, product_id, id) VALUES ('Гарантия', '3 года', 3, 4);
INSERT INTO public.characteristics (name, value, product_id, id) VALUES ('Гарантия', '4 года', 4, 5);


--
-- Data for Name: order; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public."order" (id, user_id, price, date, count) VALUES (5, 1, 100000, '2024-12-09', 3);
INSERT INTO public."order" (id, user_id, price, date, count) VALUES (6, 1, 100000, '2024-12-09', 3);
INSERT INTO public."order" (id, user_id, price, date, count) VALUES (9, 1, 100000, '2024-12-09', 3);
INSERT INTO public."order" (id, user_id, price, date, count) VALUES (10, 1, 100000, '2024-12-09', 3);


--
-- Data for Name: product; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.product (id, name, "desc", price, category, img, rating, color) VALUES (1, 'Смартфон 258 ГБ', 'Смартфон красный — девайс со складным корпусом и двумя экранами, что расширяет его возможности.', 10900, 'Смартфон', '/test.png', 5, 'Красный');
INSERT INTO public.product (id, name, "desc", price, category, img, rating, color) VALUES (2, 'Внешний аккумулятор 10000mAh', 'Аккумулятор', 2000, 'Аккумуляторы', '/test.png', 4, 'Белый');
INSERT INTO public.product (id, name, "desc", price, category, img, rating, color) VALUES (3, 'Смартфон 256 ГБ', 'Смартфон черный — девайс со складным корпусом и двумя экранами, что расширяет его возможности.', 12000, 'Смартфон', '/test.png', 3, 'Черный');
INSERT INTO public.product (id, name, "desc", price, category, img, rating, color) VALUES (4, 'Airpods 2', 'Беспроводные наушники', 19000, 'Наушники', '/test.png', 5, 'Белый');
INSERT INTO public.product (id, name, "desc", price, category, img, rating, color) VALUES (5, 'Смартфон 128 ГБ', 'Смартфон черный — девайс со складным корпусом и двумя экранами, что расширяет его возможности.', 11000, 'Смартфон', '/test.png', 5, 'Черный');
INSERT INTO public.product (id, name, "desc", price, category, img, rating, color) VALUES (6, 'Airpods 1', 'Беспроводные наушники', 12000, 'Наушники', '/test.png', 5, 'Белый');
INSERT INTO public.product (id, name, "desc", price, category, img, rating, color) VALUES (7, 'Смартфон 128 ГБ', 'Смартфон красный — девайс со складным корпусом и двумя экранами, что расширяет его возможности.', 12345, 'Смартфон', '/test.png', 5, 'Красный');
INSERT INTO public.product (id, name, "desc", price, category, img, rating, color) VALUES (8, 'Смартфон 128 ГБ', 'Смартфон красный — девайс со складным корпусом и двумя экранами, что расширяет его возможности.', 12345, 'Смартфон', '/test.png', 5, 'Красный');
INSERT INTO public.product (id, name, "desc", price, category, img, rating, color) VALUES (9, 'Смартфон 128 ГБ', 'Смартфон красный — девайс со складным корпусом и двумя экранами, что расширяет его возможности.', 12345, 'Смартфон', '/test.png', 5, 'Красный');
INSERT INTO public.product (id, name, "desc", price, category, img, rating, color) VALUES (10, 'Смартфон 128 ГБ', 'Смартфон красный — девайс со складным корпусом и двумя экранами, что расширяет его возможности.', 12345, 'Смартфон', '/test.png', 5, 'Красный');
INSERT INTO public.product (id, name, "desc", price, category, img, rating, color) VALUES (11, 'Смартфон 128 ГБ', 'Смартфон красный — девайс со складным корпусом и двумя экранами, что расширяет его возможности.', 12345, 'Смартфон', '/test.png', 5, 'Красный');


--
-- Data for Name: tag; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.tag (name, product_id, id) VALUES ('hit', 1, 1);
INSERT INTO public.tag (name, product_id, id) VALUES ('new', 1, 2);
INSERT INTO public.tag (name, product_id, id) VALUES ('hit', 2, 3);
INSERT INTO public.tag (name, product_id, id) VALUES ('hit', 3, 4);
INSERT INTO public.tag (name, product_id, id) VALUES ('hit', 4, 5);
INSERT INTO public.tag (name, product_id, id) VALUES ('new', 4, 6);
INSERT INTO public.tag (name, product_id, id) VALUES ('new', 5, 7);
INSERT INTO public.tag (name, product_id, id) VALUES ('new', 6, 8);
INSERT INTO public.tag (name, product_id, id) VALUES ('new', 7, 9);
INSERT INTO public.tag (name, product_id, id) VALUES ('new', 8, 10);


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.users (id, login, password) OVERRIDING SYSTEM VALUE VALUES (1, 'paikeee', '$2y$10$wy8mF9ecm3EfGGJKjfvS0.9TkX69IQVLmXUBdEDSUrsd1EPz5W2e2');


--
-- Name: characteristics_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.characteristics_id_seq', 5, true);


--
-- Name: order_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.order_seq', 10, true);


--
-- Name: product_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.product_id_seq', 11, true);


--
-- Name: tag_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tag_id_seq', 10, true);


--
-- Name: user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_id_seq', 1, true);


--
-- Name: characteristics characteristics_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.characteristics
    ADD CONSTRAINT characteristics_pk PRIMARY KEY (id);


--
-- Name: users id; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT id PRIMARY KEY (id);


--
-- Name: users login; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT login UNIQUE (login);


--
-- Name: order order_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."order"
    ADD CONSTRAINT order_pk UNIQUE (id);


--
-- Name: product product_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT product_pk PRIMARY KEY (id);


--
-- Name: tag tag_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tag
    ADD CONSTRAINT tag_pk PRIMARY KEY (id);


--
-- Name: characteristics_product_id_index; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX characteristics_product_id_index ON public.characteristics USING hash (product_id);


--
-- Name: tag_product_id_index; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX tag_product_id_index ON public.tag USING hash (product_id);


--
-- Name: characteristics characteristics_product_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.characteristics
    ADD CONSTRAINT characteristics_product_id_fk FOREIGN KEY (product_id) REFERENCES public.product(id);


--
-- Name: order order___fk_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."order"
    ADD CONSTRAINT order___fk_user_id FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: tag tag_product_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tag
    ADD CONSTRAINT tag_product_id_fk FOREIGN KEY (product_id) REFERENCES public.product(id);


--
-- PostgreSQL database dump complete
--

